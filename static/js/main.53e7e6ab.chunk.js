(this["webpackJsonpresty-react"]=this["webpackJsonpresty-react"]||[]).push([[0],[,,,,,,,,,function(e,t,n){},,,,,,,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(1),s=n.n(r),a=n(10),c=n.n(a),o=(n(9),n(17),n(0));var i=function(){return Object(o.jsx)("header",{children:Object(o.jsx)("h1",{children:"RESTy"})})};n(19);var l=function(){return Object(o.jsx)("footer",{children:Object(o.jsx)("p",{children:"\xa9 Code Fellows 2021"})})},d=n(11),u=n(2),h=n(3),p=n(5),j=n(4),b=n(8),O=n.n(b),f=n(12),m=(n(21),function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).changeHandler=function(t){e.props.inputHandler(t.target.name,t.target.value)},e.showResults=function(){var t=Object(f.a)(O.a.mark((function t(n){var r,s,a,c,o,i,l;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,e.props.loadingHandler(!0),s={method:e.props.input.method,headers:{"Content-Type":"application/json; charset=UTF-8"}},"get"!==e.props.input.method&&(console.log(e.props.input.body),Object.defineProperty(s,"body",{value:e.props.input.body})),t.next=7,fetch(e.props.input.url,s);case 7:return r=t.sent,t.next=10,r.json();case 10:return a=t.sent,t.next=13,r.headers.get("content-type");case 13:t.t0=t.sent,c={"content-type":t.t0},e.props.formHandler(a,c),e.props.loadingHandler(!1),o=JSON.stringify({url:e.props.input.url,method:e.props.input.method,body:e.props.input.body}),i=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},l=Object.values(localStorage).includes(o),r.ok&&!l&&localStorage.setItem(i(),o),t.next=26;break;case 23:t.prev=23,t.t1=t.catch(1),e.props.errorHandler(t.t1.message);case 26:case"end":return t.stop()}}),t,null,[[1,23]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(h.a)(n,[{key:"render",value:function(){return Object(o.jsx)(s.a.Fragment,{children:Object(o.jsxs)("form",{onSubmit:this.showResults,children:[Object(o.jsxs)("section",{className:"input-sec",children:[Object(o.jsx)("input",{type:"text",name:"url",value:this.props.input.url,onChange:this.changeHandler}),Object(o.jsx)("button",{children:"GO"})]}),Object(o.jsxs)("section",{className:"btn-sec",children:[Object(o.jsx)("textarea",{name:"body",value:this.props.input.body,onChange:this.changeHandler}),Object(o.jsx)("button",{type:"button",name:"method",value:"get",onClick:this.changeHandler,children:"GET"}),Object(o.jsx)("button",{type:"button",name:"method",value:"post",onClick:this.changeHandler,children:"POST"}),Object(o.jsx)("button",{type:"button",name:"method",value:"put",onClick:this.changeHandler,children:"PUT"}),Object(o.jsx)("button",{type:"button",name:"method",value:"delete",onClick:this.changeHandler,children:"DELETE"})]})]})})}}]),n}(r.Component)),g=(n(22),n(23),function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).handleClicked=function(t){console.log("from History: user clicked on query");var n=t.target.innerHTML.split(" ")[0],r=JSON.parse(localStorage.getItem(n));e.props.historyHandler(r)},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this;return Object(o.jsx)("div",{className:"history",children:Object.values(localStorage).map((function(t,n){return Object(o.jsx)("div",{onClick:e.handleClicked,children:Object(o.jsxs)("pre",{children:[localStorage.key(n),"     ",JSON.parse(t).method,"           ",JSON.parse(t).url]})},localStorage.key(n))}))})}}]),n}(r.Component)),x=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(o.jsx)(s.a.Fragment,{children:Object(o.jsxs)("section",{className:"results-sec",children:[Object(o.jsx)(g,{historyHandler:this.props.historyHandler}),this.props.children]})})}}]),n}(r.Component),y=(n(24),n(6)),v=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).inputHandler=function(e,t){r.setState(Object(d.a)({},e,t))},r.formHandler=function(e,t){r.setState({headers:t,response:e,error:null})},r.historyHandler=function(e){var t=e.method,n=e.url,s=e.body;r.setState({method:t,url:n,body:s})},r.loadingHandler=function(e){r.setState({isloading:e}),console.log("loading"+e)},r.errorHandler=function(e){r.setState({error:e})},r.state={method:"get",url:"/",body:"",headers:null,response:null,isloading:!1,error:null},r}return Object(h.a)(n,[{key:"render",value:function(){var e={method:this.state.method,url:this.state.url,body:this.state.body};return Object(o.jsxs)("main",{children:[Object(o.jsx)(m,{loadingHandler:this.loadingHandler,formHandler:this.formHandler,inputHandler:this.inputHandler,errorHandler:this.errorHandler,input:e}),Object(o.jsxs)(x,{historyHandler:this.historyHandler,children:[Object(o.jsx)(y.b,{condition:this.state.isloading,children:Object(o.jsx)("img",{src:"https://media.tenor.com/images/5f1c57a4f18059b1bb946df247f8561d/tenor.gif",alt:"Loading"})}),Object(o.jsxs)(y.b,{condition:this.state.error,children:[Object(o.jsx)(y.c,{children:Object(o.jsx)("p",{children:this.state.error})}),Object(o.jsx)(y.a,{children:Object(o.jsx)(y.b,{condition:this.state.response,children:Object(o.jsx)(y.c,{children:Object(o.jsxs)("section",{className:"response",children:[Object(o.jsx)("p",{children:Object(o.jsx)("pre",{children:JSON.stringify({Headers:this.state.headers},null,"\t")})}),Object(o.jsx)("p",{children:Object(o.jsx)("pre",{children:JSON.stringify({Response:this.state.response},null,"\t")})})]})})})})]})]})]})}}]),n}(r.Component);var H=function(){return Object(o.jsxs)("div",{className:"app-style",children:[Object(o.jsx)(i,{}),Object(o.jsx)(v,{}),Object(o.jsx)(l,{})]})};c.a.render(Object(o.jsx)(s.a.StrictMode,{children:Object(o.jsx)(H,{})}),document.getElementById("root"))}],[[25,1,2]]]);
//# sourceMappingURL=main.53e7e6ab.chunk.js.map